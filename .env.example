# TelemetryFlow GO MCP Server Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# CLAUDE API (Required)
# =============================================================================
# Your Anthropic API key
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Alternative environment variable name (both are supported)
# TELEMETRYFLOW_MCP_CLAUDE_API_KEY=your-api-key-here

# Claude API base URL (optional, defaults to https://api.anthropic.com)
# TELEMETRYFLOW_MCP_CLAUDE_BASE_URL=https://api.anthropic.com

# Default model to use (optional)
# TELEMETRYFLOW_MCP_CLAUDE_DEFAULT_MODEL=claude-sonnet-4-20250514

# =============================================================================
# TELEMETRYFLOW OBSERVABILITY (TELEMETRYFLOW SDK)
# =============================================================================
# Your TelemetryFlow API key for observability (logs, metrics, traces)
TELEMETRYFLOW_API_KEY=your-telemetryflow-api-key-here

# TelemetryFlow API endpoint (default: https://api.telemetryflow.io)
TELEMETRYFLOW_ENDPOINT=https://api.telemetryflow.io

# Service identification
TELEMETRYFLOW_SERVICE_NAME=telemetryflow-mcp
TELEMETRYFLOW_SERVICE_VERSION=1.1.2

# Environment (development, staging, production)
TELEMETRYFLOW_ENVIRONMENT=development

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server host (default: localhost)
TELEMETRYFLOW_MCP_SERVER_HOST=localhost

# Server port (default: 8080)
TELEMETRYFLOW_MCP_SERVER_PORT=8080

# Transport type: stdio, sse, websocket (default: stdio)
TELEMETRYFLOW_MCP_SERVER_TRANSPORT=stdio

# Debug mode (default: false)
TELEMETRYFLOW_MCP_DEBUG=false

# =============================================================================
# LOGGING
# =============================================================================
# Log level: debug, info, warn, error (default: info)
TELEMETRYFLOW_MCP_LOG_LEVEL=info

# Log format: json, text (default: json)
TELEMETRYFLOW_MCP_LOG_FORMAT=json

# =============================================================================
# REDIS (Caching & Queue)
# =============================================================================
# Redis connection URL
TELEMETRYFLOW_MCP_REDIS_URL=redis://localhost:6379

# Enable caching (default: true)
TELEMETRYFLOW_MCP_CACHE_ENABLED=true

# Cache TTL in seconds (default: 300)
TELEMETRYFLOW_MCP_CACHE_TTL=300

# Enable queue processing (default: true)
TELEMETRYFLOW_MCP_QUEUE_ENABLED=true

# Queue concurrency (default: 5)
TELEMETRYFLOW_MCP_QUEUE_CONCURRENCY=5

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# PostgreSQL connection URL
TELEMETRYFLOW_MCP_POSTGRES_URL=postgres://postgres:postgres@localhost:5432/telemetryflow_mcp?sslmode=disable

# Connection pool settings
TELEMETRYFLOW_MCP_POSTGRES_MAX_CONNS=25
TELEMETRYFLOW_MCP_POSTGRES_MIN_CONNS=5

# =============================================================================
# ANALYTICS DATABASE (ClickHouse)
# =============================================================================
# ClickHouse connection URL
TELEMETRYFLOW_MCP_CLICKHOUSE_URL=clickhouse://localhost:9000/telemetryflow_mcp

# =============================================================================
# TELEMETRY CONFIGURATION
# =============================================================================
# Enable telemetry (default: true)
TELEMETRYFLOW_MCP_TELEMETRY_ENABLED=true

# Telemetry backend: telemetryflow, otel (default: telemetryflow)
# Uses TelemetryFlow SDK as the primary telemetry backend
TELEMETRYFLOW_MCP_TELEMETRY_BACKEND=telemetryflow

# =============================================================================
# OPENTELEMETRY COMPATIBILITY (Optional - for legacy OTEL integration)
# =============================================================================
# Note: TelemetryFlow SDK is the primary telemetry backend.
# These settings are only used when TELEMETRY_BACKEND=otel or for OTEL export.

# OTLP endpoint for traces/metrics (used by TelemetryFlow SDK for OTEL export)
TELEMETRYFLOW_MCP_OTLP_ENDPOINT=localhost:4317

# Service name (standard OTEL env var, used alongside TelemetryFlow SDK)
TELEMETRYFLOW_MCP_SERVICE_NAME=telemetryflow-mcp

# =============================================================================
# SECURITY
# =============================================================================
# Require API key for requests
# TELEMETRYFLOW_MCP_SECURITY_REQUIRE_API_KEY=false

# Rate limit per minute
# TELEMETRYFLOW_MCP_SECURITY_RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================
# MCP Server version
TELEMETRYFLOW_MCP_VERSION=1.1.2

# Database ports (for docker-compose)
REDIS_PORT=6379
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=telemetryflow_mcp
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DB=telemetryflow_mcp
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Observability ports (for docker-compose with observability profile)
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318
JAEGER_UI_PORT=16686
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
